(this["webpackJsonpshopify-frontend-intern-challenge-2020"]=this["webpackJsonpshopify-frontend-intern-challenge-2020"]||[]).push([[0],[,,,function(e,t,n){e.exports={container:"MovieCard_container__3uhv0",info:"MovieCard_info__3WLbk",title_container:"MovieCard_title_container__SXkeI",title:"MovieCard_title__BDrZo",nominated_badge:"MovieCard_nominated_badge__1vmYj",remove_icon:"MovieCard_remove_icon__113lh",controls:"MovieCard_controls__2eBGH",remove:"MovieCard_remove__3po9J",nominate:"MovieCard_nominate__T_T1F"}},,function(e,t,n){e.exports={container:"NominatedMovieEntry_container__lYTHE",poster:"NominatedMovieEntry_poster__3VW7L",unknown_poster:"NominatedMovieEntry_unknown_poster__ryC-3",info:"NominatedMovieEntry_info__3KfcQ",controls:"NominatedMovieEntry_controls__3b-y4",remove_icon:"NominatedMovieEntry_remove_icon__3UjTg"}},,,,,function(e,t,n){e.exports={medium:"MoviePoster_medium__1bHZ1",small:"MoviePoster_small___VioW",unknown_poster:"MoviePoster_unknown_poster__opvl1"}},function(e,t,n){e.exports={container:"Pager_container__22xn9",page_number:"Pager_page_number__c2vAX",current:"Pager_current__lIrSY",count:"Pager_count__1Gj6V"}},,function(e,t,n){e.exports={header:"Header_header__4Y_zu",title:"Header_title__2gnU_",subtitle:"Header_subtitle__2Nk0L"}},function(e,t,n){e.exports={container:"SearchInput_container__258Pr",title:"SearchInput_title__1uIDk",searchbar:"SearchInput_searchbar__38oV6"}},function(e,t,n){e.exports={body:"App_body__1uLcL",searchbox_container:"App_searchbox_container__FhutL",nominated:"App_nominated__2ZEft"}},,function(e,t,n){e.exports={"size-sm":"Icon_size-sm__1wyOg","size-md":"Icon_size-md__1jQun","size-lg":"Icon_size-lg__26-Ex","color-light":"Icon_color-light__3-jHw","color-dark":"Icon_color-dark__2eXlw"}},function(e,t,n){e.exports={container:"NoResults_container__3Tgki",hint:"NoResults_hint__uzThp"}},function(e,t,n){e.exports={container:"Error_container__JyjKt"}},,,,function(e,t,n){e.exports={container:"DoneNotice_container__2dXla"}},function(e,t,n){e.exports={container:"SearchBlankState_container__1artp",hint:"SearchBlankState_hint__1CQVR"}},function(e,t,n){e.exports={results:"MovieResults_results__Kq5cQ"}},,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),i=n.n(r),a=n(21),o=n.n(a),s=n(2),l=n(20),d=n(4),j=n.n(d),u=n(8),m=n(6),b=n(13),_=n.n(b),h=function(){return Object(c.jsxs)("div",{className:_.a.header,children:[Object(c.jsxs)("div",{className:_.a.title,children:[Object(c.jsx)("div",{children:"The"}),Object(c.jsx)("span",{children:"Shoppies"})]}),Object(c.jsx)("div",{className:_.a.subtitle,children:"Movie awards for entrepreneurs"})]})},v=n(14),x=n.n(v),p=function(e){var t=e.onQueryChange;return Object(c.jsxs)("div",{className:x.a.container,children:[Object(c.jsx)("h1",{className:x.a.title,children:"Search a movie to nominate"}),Object(c.jsx)("input",{className:x.a.searchbar,placeholder:"The Empire Strikes Back, The Matrix...",onChange:function(e){return t&&t(e.target.value)},type:"text"})]})},O=n(22),f=n.n(O),g=(n(33),n(15)),N=n.n(g),y=n(23),k=n.n(y),w=n.p+"static/media/done.597d11c2.svg",I=function(){return Object(c.jsx)("div",{className:k.a.container,children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"You nominated 5 movies!"}),Object(c.jsx)("h2",{children:"Talk about great tastes."}),Object(c.jsx)("div",{children:"However... if you want to modify your list, you'll have to remove some entries."}),Object(c.jsx)("img",{src:w,alt:"Person holding a pen next to a binder"})]})})};function M(e){var t=e.title,n=e.type,c=e.year,r=e.page,i="https://omdbapi.com/?apikey=".concat("e10a43a","&s=").concat(t);return n&&(i+="&type=".concat(n)),c&&(i+="&y=".concat(c)),r&&(i+="&page=".concat(r)),i}function P(e){return T.apply(this,arguments)}function T(){return(T=Object(u.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(M(t));case 3:if(!(n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:throw new Error("Status: ".concat(n.status,": ").concat(n.statusText));case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(0),console.error(e.t0),new Error("Error searching for ".concat(t.title," with params: ").concat(JSON.stringify(t),": ").concat(e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}var C=n(9),S=n.n(C),E=n(17),D=n.n(E),z=function(e){var t=e.size||"sm",n=e.color||"dark";return Object(c.jsx)("svg",Object(s.a)(Object(s.a)({strokeWidth:"10",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",className:S()(e.className,D.a["size-".concat(t)],D.a["color-".concat(n)])},e),{},{children:e.children}))},R=function(e){return Object(c.jsxs)(z,Object(s.a)(Object(s.a)({},e),{},{children:[Object(c.jsx)("line",{x1:"15",y1:"15",x2:"85",y2:"85"})," ",Object(c.jsx)("line",{x1:"85",y1:"15",x2:"15",y2:"85"})]}))},B=n(10),F=n.n(B),Y=n.p+"static/media/UnknownPoster.9d7f9c29.svg",H=function(e){var t=e.src,n="sm"===e.size?F.a.small:F.a.medium;return Object(c.jsx)("div",{children:t&&"N/A"!==t?Object(c.jsx)("img",{src:t,className:S()(F.a.poster,n),alt:"Movie poster"}):Object(c.jsx)("div",{className:S()(F.a.unknown_poster,n),children:Object(c.jsx)("img",{src:Y,alt:"Question mark"})})})},L=H,Q=n(5),A=n.n(Q),J=function(e){var t=e.Title,n=e.Year,r=e.imdbID,i=e.Type,a=e.Poster,o=e.onRemoveNomination;return Object(c.jsxs)("div",{className:A.a.container,children:[Object(c.jsx)(L,{src:a,size:"sm"}),Object(c.jsx)("div",{className:A.a.info,children:Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:A.a.title,children:t}),Object(c.jsx)("div",{children:n})]})}),Object(c.jsx)("div",{className:A.a.controls,children:o&&Object(c.jsx)("div",{onClick:function(){return o({Title:t,Year:n,imdbID:r,Type:i,Poster:a})},className:A.a.remove_icon,children:Object(c.jsx)(R,{color:"dark",size:"md"})})})]})},V=n(11),W=n.n(V),X=function(e){var t=e.currentPage,n=e.pageCount,r=e.onNext,i=e.onPrevious;return Object(c.jsxs)("div",{className:W.a.container,children:[Object(c.jsx)("button",{onClick:i,disabled:1===t,children:"Prev"}),Object(c.jsxs)("div",{className:W.a.page_number,children:[Object(c.jsx)("span",{className:W.a.current,children:t}),Object(c.jsxs)("span",{className:W.a.count,children:["/",n]})]}),Object(c.jsx)("button",{onClick:r,disabled:t===n,children:"Next"})]})},K=n.p+"static/media/illustration.9f31958f.svg",U=n(24),Z=n.n(U),G=function(){return Object(c.jsx)("div",{className:Z.a.container,children:Object(c.jsx)("img",{src:K,alt:"Person in the wood looking through binoculars"})})},q=n.p+"static/media/illustration.8e88f095.svg",$=n(18),ee=n.n($),te=function(){return Object(c.jsxs)("div",{className:ee.a.container,children:[Object(c.jsx)("div",{className:ee.a.hint,children:"No results for your search, try being more specific!"}),Object(c.jsx)("img",{src:q,alt:"Person in the wood looking through binoculars"})]})},ne=n.p+"static/media/ticket.7426d918.svg",ce=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Search movies and nominate them, they'll show up here!"}),Object(c.jsx)("img",{src:ne,style:{maxWidth:"200px"},alt:"Person holding a movie ticket"})]})},re=n(3),ie=n.n(re),ae=function(e){var t=e.Title,n=e.Year,r=e.imdbID,i=e.Type,a=e.Poster,o=e.nominated,s=e.onNominate,l=e.onRemoveNomination,d={Title:t,Year:n,imdbID:r,Type:i,Poster:a};return Object(c.jsxs)("div",{className:ie.a.container,children:[Object(c.jsx)(H,{src:a}),Object(c.jsxs)("div",{className:ie.a.info,children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:ie.a.title_container,children:[Object(c.jsx)("div",{className:ie.a.title,children:t}),Object(c.jsx)("div",{children:n})]}),Object(c.jsxs)("div",{className:ie.a.controls,children:[o&&Object(c.jsxs)("div",{className:ie.a.nominated_badge,children:[Object(c.jsx)("div",{children:"Nominated"}),l&&Object(c.jsx)("div",{className:ie.a.remove_icon,onClick:function(){return l(d)},children:Object(c.jsx)(R,{color:"light"})})]}),!o&&s&&Object(c.jsx)("button",{className:ie.a.nominate,onClick:function(){return s(d)},children:"Nominate"})]})]}),Object(c.jsx)("div",{children:Object(c.jsx)("a",{href:"https://www.imdb.com/title/".concat(r,"/"),children:"IMDB"})})]})]})},oe=n(25),se=n.n(oe),le=function(e){var t=e.results,n=e.onNominate,r=e.onRemoveNomination,i=e.nominated;return Object(c.jsx)("div",{className:se.a.results,children:t.map((function(e){return Object(c.jsx)(ae,Object(s.a)(Object(s.a)({},e),{},{onNominate:n,onRemoveNomination:r,nominated:i&&-1!==i.findIndex((function(t){return t.imdbID===e.imdbID}))}))}))})},de=n(19),je=n.n(de),ue=n.p+"static/media/error.d795627e.svg",me=function(e){var t=e.error;return Object(c.jsxs)("div",{className:je.a.container,children:[Object(c.jsx)("h3",{children:"There was an error getting your movies, please try again!"}),t&&Object(c.jsx)("div",{className:je.a.message,children:t.message}),Object(c.jsx)("img",{src:ue,alt:"Person on a laptop"})]})};var be=function(){var e=Object(r.useState)(),t=Object(m.a)(e,2),n=t[0],i=t[1],a=Object(r.useState)([]),o=Object(m.a)(a,2),d=o[0],b=o[1],_=Object(r.useState)(1),v=Object(m.a)(_,2),x=v[0],O=v[1],g=Object(r.useState)(""),y=Object(m.a)(g,2),k=y[0],w=y[1],M=Object(r.useState)(),T=Object(m.a)(M,2),C=T[0],S=T[1];Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P({title:k,type:"movie",page:x});case 3:t=e.sent,i(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),S(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[k,x]);var E=function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(1),w(t),S(void 0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){var t=d.findIndex((function(t){return t.imdbID===e.imdbID}));if(-1!==t){var n=Object(l.a)(d);n.splice(t,1),b(n)}};return Object(c.jsxs)("div",{children:[Object(c.jsx)(h,{}),Object(c.jsxs)("div",{className:N.a.body,children:[Object(c.jsx)("main",{children:d.length<5?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:N.a.searchbox_container,children:[Object(c.jsx)(p,{onQueryChange:f()(E,600)}),""===k&&Object(c.jsx)(G,{})]}),C&&Object(c.jsx)(me,{error:C}),"True"===(null===n||void 0===n?void 0:n.Response)?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(le,{results:n.Search,onNominate:function(e){if(!(d.length>=5||d.find((function(t){return t.imdbID===e.imdbID})))){var t=[].concat(Object(l.a)(d),[e]);b(t),5===t.length&&(w(""),i(void 0))}},onRemoveNomination:D,nominated:d}),Object(c.jsx)(X,{currentPage:x,onPrevious:function(){O(x-1),window.scrollTo(0,0)},onNext:function(){O(x+1),window.scrollTo(0,0)},pageCount:Math.ceil(parseInt(n.totalResults)/10)})]}):!C&&""!==k&&"False"===(null===n||void 0===n?void 0:n.Response)&&Object(c.jsx)(te,{})]}):Object(c.jsx)(I,{})}),Object(c.jsxs)("aside",{children:[Object(c.jsx)("h1",{children:"Nominations"}),d.length>0?Object(c.jsx)("div",{className:N.a.nominated,children:d.map((function(e){return Object(c.jsx)(J,Object(s.a)(Object(s.a)({},e),{},{onRemoveNomination:D}))}))}):Object(c.jsx)(ce,{})]})]})]})},_e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(be,{})}),document.getElementById("root")),_e()}],[[34,1,2]]]);
//# sourceMappingURL=main.7f4018b8.chunk.js.map