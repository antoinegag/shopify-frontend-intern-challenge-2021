(this["webpackJsonpshopify-frontend-intern-challenge-2020"]=this["webpackJsonpshopify-frontend-intern-challenge-2020"]||[]).push([[0],[,,,function(e,t,n){e.exports={container:"MovieCard_container__3uhv0",info:"MovieCard_info__3WLbk",title_container:"MovieCard_title_container__SXkeI",title:"MovieCard_title__BDrZo",nominated_badge:"MovieCard_nominated_badge__1vmYj",remove_icon:"MovieCard_remove_icon__113lh",controls:"MovieCard_controls__2eBGH",remove:"MovieCard_remove__3po9J",nominate:"MovieCard_nominate__T_T1F"}},,,function(e,t,n){e.exports={container:"NominatedMovieEntry_container__lYTHE",poster:"NominatedMovieEntry_poster__3VW7L",unknown_poster:"NominatedMovieEntry_unknown_poster__ryC-3",info:"NominatedMovieEntry_info__3KfcQ",controls:"NominatedMovieEntry_controls__3b-y4",remove_icon:"NominatedMovieEntry_remove_icon__3UjTg"}},,,function(e,t,n){e.exports={medium:"MoviePoster_medium__1bHZ1",small:"MoviePoster_small___VioW",unknown_poster:"MoviePoster_unknown_poster__opvl1"}},function(e,t,n){e.exports={container:"Pager_container__22xn9",page_number:"Pager_page_number__c2vAX",current:"Pager_current__lIrSY",count:"Pager_count__1Gj6V"}},,,function(e,t,n){e.exports={header:"Header_header__4Y_zu",title:"Header_title__2gnU_",subtitle:"Header_subtitle__2Nk0L"}},function(e,t,n){e.exports={container:"SearchInput_container__258Pr",title:"SearchInput_title__1uIDk",searchbar:"SearchInput_searchbar__38oV6"}},function(e,t,n){e.exports={body:"App_body__1uLcL",searchbox_container:"App_searchbox_container__FhutL",nominated:"App_nominated__2ZEft"}},,function(e,t,n){e.exports={"size-sm":"Icon_size-sm__1wyOg","size-md":"Icon_size-md__1jQun","size-lg":"Icon_size-lg__26-Ex","color-light":"Icon_color-light__3-jHw","color-dark":"Icon_color-dark__2eXlw"}},function(e,t,n){e.exports={container:"NoResults_container__3Tgki",hint:"NoResults_hint__uzThp"}},function(e,t,n){e.exports={container:"Error_container__JyjKt"}},,,,function(e,t,n){e.exports={container:"DoneNotice_container__2dXla"}},function(e,t,n){e.exports={container:"SearchBlankState_container__1artp",hint:"SearchBlankState_hint__1CQVR"}},function(e,t,n){e.exports={results:"MovieResults_results__Kq5cQ"}},,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),i=n.n(c),a=n(21),o=n.n(a),s=n(2),l=n(20),d=n(5),j=n.n(d),u=n(12),m=n(4);function b(e){var t=e.title,n=e.type,r=e.year,c=e.page,i=new URL("https://omdbapi.com");return i.searchParams.set("apikey","e10a43a"),i.searchParams.set("s",t),n&&i.searchParams.set("type",n),r&&i.searchParams.set("y",r.toString()),c&&i.searchParams.set("page",c.toString()),i.toString()}function h(e){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(b(t));case 3:if(!(n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:throw new Error("Status: ".concat(n.status,": ").concat(n.statusText));case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(0),console.error(e.t0),new Error("Error searching for ".concat(t.title," with params: ").concat(JSON.stringify(t),": ").concat(e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}var v=n(13),x=n.n(v),O=function(){return Object(r.jsxs)("div",{className:x.a.header,children:[Object(r.jsxs)("div",{className:x.a.title,children:[Object(r.jsx)("div",{children:"The"}),Object(r.jsx)("span",{children:"Shoppies"})]}),Object(r.jsx)("div",{className:x.a.subtitle,children:"Movie awards for entrepreneurs"})]})},p=n(14),f=n.n(p),g=function(e){var t=e.onQueryChange;return Object(r.jsxs)("div",{className:f.a.container,children:[Object(r.jsx)("h1",{className:f.a.title,children:"Search a movie to nominate"}),Object(r.jsx)("input",{className:f.a.searchbar,placeholder:"The Empire Strikes Back, The Matrix...",onChange:function(e){return t&&t(e.target.value)},type:"text"})]})},N=n(22),y=n.n(N),k=(n(33),n(15)),w=n.n(k),P=n(23),I=n.n(P),S=n.p+"static/media/done.597d11c2.svg",T=function(){return Object(r.jsxs)("div",{className:I.a.container,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"You nominated 5 movies!"}),Object(r.jsx)("h2",{children:"Talk about great tastes."}),Object(r.jsx)("div",{children:"However... if you want to modify your list, you'll have to remove some entries."})]}),Object(r.jsx)("img",{src:S,alt:"Person holding a pen next to a binder"})]})},M=n(8),C=n.n(M),E=n(17),D=n.n(E),R=function(e){var t=e.size||"sm",n=e.color||"dark";return Object(r.jsx)("svg",Object(s.a)(Object(s.a)({strokeWidth:"10",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",className:C()(e.className,D.a["size-".concat(t)],D.a["color-".concat(n)])},e),{},{children:e.children}))},z=function(e){return Object(r.jsxs)(R,Object(s.a)(Object(s.a)({},e),{},{children:[Object(r.jsx)("line",{x1:"15",y1:"15",x2:"85",y2:"85"})," ",Object(r.jsx)("line",{x1:"85",y1:"15",x2:"15",y2:"85"})]}))},B=n(9),L=n.n(B),Y=n.p+"static/media/UnknownPoster.9d7f9c29.svg",F=function(e){var t=e.src,n="sm"===e.size?L.a.small:L.a.medium;return Object(r.jsx)("div",{children:t&&"N/A"!==t?Object(r.jsx)("img",{src:t,className:C()(L.a.poster,n),alt:"Movie poster"}):Object(r.jsx)("div",{className:C()(L.a.unknown_poster,n),children:Object(r.jsx)("img",{src:Y,alt:"Question mark"})})})},H=F,Q=n(6),A=n.n(Q),J=function(e){var t=e.Title,n=e.Year,c=e.imdbID,i=e.Type,a=e.Poster,o=e.onRemoveNomination;return Object(r.jsxs)("div",{className:A.a.container,children:[Object(r.jsx)(H,{src:a,size:"sm"}),Object(r.jsx)("div",{className:A.a.info,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:A.a.title,children:t}),Object(r.jsx)("div",{children:n})]})}),Object(r.jsx)("div",{className:A.a.controls,children:o&&Object(r.jsx)("div",{onClick:function(){return o({Title:t,Year:n,imdbID:c,Type:i,Poster:a})},className:A.a.remove_icon,children:Object(r.jsx)(z,{color:"dark",size:"md"})})})]})},V=n(10),W=n.n(V),U=function(e){var t=e.currentPage,n=e.pageCount,c=e.onNext,i=e.onPrevious;return Object(r.jsxs)("div",{className:W.a.container,children:[Object(r.jsx)("button",{onClick:i,disabled:1===t,children:"Prev"}),Object(r.jsxs)("div",{className:W.a.page_number,children:[Object(r.jsx)("span",{className:W.a.current,children:t}),Object(r.jsxs)("span",{className:W.a.count,children:["/",n]})]}),Object(r.jsx)("button",{onClick:c,disabled:t===n,children:"Next"})]})},X=n.p+"static/media/illustration.9f31958f.svg",K=n(24),Z=n.n(K),G=function(){return Object(r.jsx)("div",{className:Z.a.container,children:Object(r.jsx)("img",{src:X,alt:"Person in the wood looking through binoculars"})})},q=n.p+"static/media/illustration.8e88f095.svg",$=n(18),ee=n.n($),te=function(){return Object(r.jsxs)("div",{className:ee.a.container,children:[Object(r.jsx)("div",{className:ee.a.hint,children:"No results for your search, try being more specific!"}),Object(r.jsx)("img",{src:q,alt:"Person in the wood looking through binoculars"})]})},ne=n.p+"static/media/ticket.7426d918.svg",re=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Search movies and nominate them, they'll show up here!"}),Object(r.jsx)("img",{src:ne,style:{maxWidth:"200px"},alt:"Person holding a movie ticket"})]})},ce=n(3),ie=n.n(ce),ae=function(e){var t=e.Title,n=e.Year,c=e.imdbID,i=e.Type,a=e.Poster,o=e.nominated,s=e.onNominate,l=e.onRemoveNomination,d={Title:t,Year:n,imdbID:c,Type:i,Poster:a};return Object(r.jsxs)("div",{className:ie.a.container,children:[Object(r.jsx)(F,{src:a}),Object(r.jsxs)("div",{className:ie.a.info,children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:ie.a.title_container,children:[Object(r.jsx)("div",{className:ie.a.title,children:t}),Object(r.jsx)("div",{children:n})]}),Object(r.jsxs)("div",{className:ie.a.controls,children:[o&&Object(r.jsxs)("div",{className:ie.a.nominated_badge,children:[Object(r.jsx)("div",{children:"Nominated"}),l&&Object(r.jsx)("div",{className:ie.a.remove_icon,onClick:function(){return l(d)},children:Object(r.jsx)(z,{color:"light"})})]}),!o&&Object(r.jsx)("button",{className:ie.a.nominate,onClick:function(){return null===s||void 0===s?void 0:s(d)},disabled:void 0===s,children:"Nominate"})]})]}),Object(r.jsx)("div",{children:Object(r.jsx)("a",{href:"https://www.imdb.com/title/".concat(c,"/"),target:"_blank",rel:"noreferrer",children:"IMDB"})})]})]})},oe=n(25),se=n.n(oe),le=function(e){var t=e.results,n=e.onNominate,i=e.onRemoveNomination,a=e.nominated;return Object(r.jsx)("div",{className:se.a.results,children:t.map((function(e){var t=a&&-1!==a.findIndex((function(t){return t.imdbID===e.imdbID}));return Object(c.createElement)(ae,Object(s.a)(Object(s.a)({},e),{},{onNominate:n,onRemoveNomination:i,key:"".concat(e.imdbID,"-").concat(t),nominated:t}))}))})},de=n(19),je=n.n(de),ue=n.p+"static/media/error.d795627e.svg",me=function(e){var t=e.error;return Object(r.jsxs)("div",{className:je.a.container,children:[Object(r.jsx)("h3",{children:"There was an error getting your movies, please try again!"}),t&&Object(r.jsx)("div",{className:je.a.message,children:t.message}),Object(r.jsx)("img",{src:ue,alt:"Person on a laptop"})]})};var be=function(){var e=Object(c.useState)(),t=Object(m.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)([]),o=Object(m.a)(a,2),d=o[0],b=o[1],_=Object(c.useState)(1),v=Object(m.a)(_,2),x=v[0],p=v[1],f=Object(c.useState)(""),N=Object(m.a)(f,2),k=N[0],P=N[1],I=Object(c.useState)(),S=Object(m.a)(I,2),M=S[0],C=S[1],E=Object(c.useState)(!1),D=Object(m.a)(E,2),R=D[0],z=D[1];Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.prev=1,e.next=4,h({title:k,type:"movie",page:x});case 4:t=e.sent,i(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),C(e.t0);case 11:z(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[k,x]);var B=function(e){b((function(t){var n=t.findIndex((function(t){return t.imdbID===e.imdbID}));if(-1!==n){var r=Object(l.a)(t);return r.splice(n,1),r}return t}))},L=d.length>=5,Y=""===k?Object(r.jsx)(G,{}):null,F=M?Object(r.jsx)(me,{error:M}):null,H=L?Object(r.jsx)(T,{}):null,Q=!M&&!R&&""!==k&&"False"===(null===n||void 0===n?void 0:n.Response)&&Object(r.jsx)(te,{});return Object(r.jsxs)("div",{children:[Object(r.jsx)(O,{}),Object(r.jsxs)("div",{className:w.a.body,children:[Object(r.jsxs)("main",{children:[H,Object(r.jsxs)("div",{className:w.a.searchbox_container,children:[Object(r.jsx)(g,{onQueryChange:y()((function(e){p(1),P(e),C(void 0)}),600)}),Y]}),F,"True"===(null===n||void 0===n?void 0:n.Response)?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(le,{results:n.Search,onNominate:L?void 0:function(e){if(!(d.length>=5||d.find((function(t){return t.imdbID===e.imdbID})))){var t=[].concat(Object(l.a)(d),[e]);b(t),5===t.length&&window.scrollTo(0,0)}},onRemoveNomination:B,nominated:d}),Object(r.jsx)(U,{currentPage:x,onPrevious:function(){p(x-1),window.scrollTo(0,0)},onNext:function(){p(x+1),window.scrollTo(0,0)},pageCount:Math.ceil(parseInt(n.totalResults)/10)})]}):Q]}),Object(r.jsxs)("aside",{children:[Object(r.jsx)("h1",{children:"Nominations"}),d.length>0?Object(r.jsx)("div",{className:w.a.nominated,children:d.map((function(e){return Object(c.createElement)(J,Object(s.a)(Object(s.a)({},e),{},{key:e.imdbID,onRemoveNomination:B}))}))}):Object(r.jsx)(re,{})]})]})]})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(be,{})}),document.getElementById("root")),he()}],[[34,1,2]]]);
//# sourceMappingURL=main.f8e53ca6.chunk.js.map